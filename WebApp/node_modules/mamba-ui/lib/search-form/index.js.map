{"version":3,"sources":["search-form/index.jsx"],"names":["SearchForm","props","state","expand","renderSubmitButton","bind","onExpand","setState","prevState","wrap","needExpand","prefixCls","cols","searchText","resetText","onSearch","onReset","node","wrapStyle","overflow","style","marginBottom","className","children","totalCols","filterChildren","React","Children","map","child","index","Number","col","cloneElement","key","Component","defaultProps","Item","SearchFormItem"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classnames from 'classnames';\nimport Row from 'antd/es/row';\nimport Col from 'antd/es/col';\nimport Button from 'antd/es/button';\nimport Icon from 'antd/es/icon';\nimport SearchFormItem from './SearchFormItem';\nimport Context from './context';\nexport default class SearchForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            expand: false,\n        };\n        this.renderSubmitButton = this.renderSubmitButton.bind(this);\n        this.onExpand = this.onExpand.bind(this);\n    }\n    onExpand() {\n        this.setState(prevState => ({\n            expand: !prevState.expand,\n        }));\n    }\n    renderSubmitButton(wrap, needExpand) {\n        const { prefixCls, cols, searchText, resetText, onSearch, onReset } = this.props;\n        const { expand } = this.state;\n        let node = [\n            <Button type=\"primary\" onClick={onSearch} key=\"search\">\n                {searchText}\n            </Button>,\n            <Button className={`${prefixCls}-clear`} onClick={onReset} key=\"clear\">\n                {resetText}\n            </Button>,\n            needExpand && (<a key=\"expand\" className={`${prefixCls}-expand`} onClick={this.onExpand}>\n                    {expand ? '收起' : '展开'}\n                    <Icon type={expand ? 'up' : 'down'}/>\n                </a>),\n        ];\n        if (wrap) {\n            const wrapStyle = {\n                overflow: 'hidden',\n            };\n            const style = {\n                marginBottom: 24,\n                float: 'right',\n            };\n            node = (<div style={wrapStyle}>\n                    <Row style={style}>{node}</Row>\n                </div>);\n        }\n        else {\n            node = (<Col span={24 / cols} className={`${prefixCls}-action`}>\n                    {node}\n                </Col>);\n        }\n        return node;\n    }\n    render() {\n        const { prefixCls, className, style, cols, children } = this.props;\n        const { expand } = this.state;\n        let wrap = false;\n        let needExpand = false;\n        let totalCols = 0;\n        let filterChildren = React.Children.map(children, (child, index) => {\n            totalCols += Number(child.props.col);\n            wrap = totalCols >= cols;\n            needExpand = totalCols > cols;\n            if (totalCols <= cols) {\n                return React.cloneElement(child, { key: index });\n            }\n        });\n        filterChildren = expand ? children : filterChildren;\n        return (<Context.Provider value={{ prefixCls, cols }}>\n                <form className={classnames(prefixCls, className)} style={style}>\n                    <Row gutter={24}>\n                        {filterChildren}\n                        {!wrap && filterChildren && this.renderSubmitButton(wrap)}\n                    </Row>\n                    {wrap && this.renderSubmitButton(wrap, needExpand)}\n                </form>\n            </Context.Provider>);\n    }\n}\nSearchForm.defaultProps = {\n    prefixCls: 'mambar-search-form',\n    cols: 4,\n    searchText: '查询',\n    resetText: '重置',\n};\nSearchForm.Item = SearchFormItem;\n"],"file":"index.js"}