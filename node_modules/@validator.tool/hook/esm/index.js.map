{
  "version": 3,
  "names": [
    "useEffect",
    "useState",
    "useRef",
    "Validator",
    "useValidator",
    "props",
    "validator",
    "upState",
    "forceUpdate",
    "current",
    "form",
    "setForm",
    "handleForceUpdate",
    "handleSubmit",
    "handle",
    "evn",
    "preventDefault",
    "showMessages",
    "valid",
    "allValid",
    "values",
    "handleReset",
    "hideMessages",
    "val",
    "reset"
  ],
  "sources": [
    "../src/index.ts"
  ],
  "sourcesContent": [
    "import { useEffect, useState, useRef } from 'react';\nimport Validator, { ValidatorOption, Values } from 'validator.tool';\n\nexport * from 'validator.tool';\nexport interface UseValidator extends ValidatorOption {}\nexport function useValidator(props: UseValidator = {}) {\n  const validator = useRef<Validator>(new Validator({ ...props }));\n  const [upState, forceUpdate] = useState(0);\n\n  useEffect(() => {\n    if (validator.current && props.form) {\n      validator.current.setForm(props.form);\n    }\n  }, [props.form, validator.current]);\n\n  const handleForceUpdate = () => forceUpdate(upState + 1);\n  const handleSubmit = (handle?: (value: Values, valid: boolean) => void) => (evn: React.FormEvent<HTMLFormElement>) => {\n    evn && evn.preventDefault();\n    validator.current.showMessages();\n    forceUpdate(upState + 1);\n    if (handle) {\n      const valid = validator.current.allValid();\n      handle({ ...validator.current.values }, valid);\n    }\n  }\n  const handleReset = (handle?: (value: Values) => void) => (evn: React.FormEvent<HTMLFormElement>) => {\n    validator.current.hideMessages();\n    const val = validator.current.reset();\n    handle && handle(val);\n  }\n  return {\n    validator: validator.current,\n    forceUpdate: handleForceUpdate,\n    /** Only `Form` Support */\n    handleSubmit,\n    /** Only `Form` Support */\n    handleReset,\n  }\n}"
  ],
  "mappings": ";AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,SAAP,MAAmD,gBAAnD;AAEA,cAAc,gBAAd;AAEA,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAAgD;EAAA,IAA1BA,KAA0B;IAA1BA,KAA0B,GAAJ,EAAI;EAAA;;EACrD,IAAMC,SAAS,GAAGJ,MAAM,CAAY,IAAIC,SAAJ,cAAmBE,KAAnB,EAAZ,CAAxB;EACA,IAAM,CAACE,OAAD,EAAUC,WAAV,IAAyBP,QAAQ,CAAC,CAAD,CAAvC;EAEAD,SAAS,CAAC,MAAM;IACd,IAAIM,SAAS,CAACG,OAAV,IAAqBJ,KAAK,CAACK,IAA/B,EAAqC;MACnCJ,SAAS,CAACG,OAAV,CAAkBE,OAAlB,CAA0BN,KAAK,CAACK,IAAhC;IACD;EACF,CAJQ,EAIN,CAACL,KAAK,CAACK,IAAP,EAAaJ,SAAS,CAACG,OAAvB,CAJM,CAAT;;EAMA,IAAMG,iBAAiB,GAAG,MAAMJ,WAAW,CAACD,OAAO,GAAG,CAAX,CAA3C;;EACA,IAAMM,YAAY,GAAIC,MAAD,IAAuDC,GAAD,IAA2C;IACpHA,GAAG,IAAIA,GAAG,CAACC,cAAJ,EAAP;IACAV,SAAS,CAACG,OAAV,CAAkBQ,YAAlB;IACAT,WAAW,CAACD,OAAO,GAAG,CAAX,CAAX;;IACA,IAAIO,MAAJ,EAAY;MACV,IAAMI,MAAK,GAAGZ,SAAS,CAACG,OAAV,CAAkBU,QAAlB,EAAd;;MACAL,MAAM,cAAMR,SAAS,CAACG,OAAV,CAAkBW,MAAxB,GAAkCF,MAAlC,CAAN;IACD;EACF,CARD;;EASA,IAAMG,WAAW,GAAIP,MAAD,IAAuCC,GAAD,IAA2C;IACnGT,SAAS,CAACG,OAAV,CAAkBa,YAAlB;IACA,IAAMC,GAAG,GAAGjB,SAAS,CAACG,OAAV,CAAkBe,KAAlB,EAAZ;IACAV,MAAM,IAAIA,MAAM,CAACS,GAAD,CAAhB;EACD,CAJD;;EAKA,OAAO;IACLjB,SAAS,EAAEA,SAAS,CAACG,OADhB;IAELD,WAAW,EAAEI,iBAFR;;IAGL;IACAC,YAJK;;IAKL;IACAQ;EANK,CAAP;AAQD"
}