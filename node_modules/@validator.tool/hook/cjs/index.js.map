{
  "version": 3,
  "names": [
    "useValidator",
    "props",
    "validator",
    "Validator",
    "upState",
    "forceUpdate",
    "current",
    "form",
    "setForm",
    "handleForceUpdate",
    "handleSubmit",
    "handle",
    "evn",
    "preventDefault",
    "showMessages",
    "valid",
    "allValid",
    "values",
    "handleReset",
    "hideMessages",
    "val",
    "reset"
  ],
  "sources": [
    "../src/index.ts"
  ],
  "sourcesContent": [
    "import { useEffect, useState, useRef } from 'react';\nimport Validator, { ValidatorOption, Values } from 'validator.tool';\n\nexport * from 'validator.tool';\nexport interface UseValidator extends ValidatorOption {}\nexport function useValidator(props: UseValidator = {}) {\n  const validator = useRef<Validator>(new Validator({ ...props }));\n  const [upState, forceUpdate] = useState(0);\n\n  useEffect(() => {\n    if (validator.current && props.form) {\n      validator.current.setForm(props.form);\n    }\n  }, [props.form, validator.current]);\n\n  const handleForceUpdate = () => forceUpdate(upState + 1);\n  const handleSubmit = (handle?: (value: Values, valid: boolean) => void) => (evn: React.FormEvent<HTMLFormElement>) => {\n    evn && evn.preventDefault();\n    validator.current.showMessages();\n    forceUpdate(upState + 1);\n    if (handle) {\n      const valid = validator.current.allValid();\n      handle({ ...validator.current.values }, valid);\n    }\n  }\n  const handleReset = (handle?: (value: Values) => void) => (evn: React.FormEvent<HTMLFormElement>) => {\n    validator.current.hideMessages();\n    const val = validator.current.reset();\n    handle && handle(val);\n  }\n  return {\n    validator: validator.current,\n    forceUpdate: handleForceUpdate,\n    /** Only `Form` Support */\n    handleSubmit,\n    /** Only `Form` Support */\n    handleReset,\n  }\n}"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;EAAA;EAAA;EAAA;EAAA;IAAA;IAAA;MAAA;IAAA;EAAA;AAAA;;AAEO,SAASA,YAAT,GAAgD;EAAA,IAA1BC,KAA0B,uEAAJ,EAAI;EACrD,IAAMC,SAAS,GAAG,mBAAkB,IAAIC,qBAAJ,oCAAmBF,KAAnB,EAAlB,CAAlB;;EACA,gBAA+B,qBAAS,CAAT,CAA/B;EAAA;EAAA,IAAOG,OAAP;EAAA,IAAgBC,WAAhB;;EAEA,sBAAU,YAAM;IACd,IAAIH,SAAS,CAACI,OAAV,IAAqBL,KAAK,CAACM,IAA/B,EAAqC;MACnCL,SAAS,CAACI,OAAV,CAAkBE,OAAlB,CAA0BP,KAAK,CAACM,IAAhC;IACD;EACF,CAJD,EAIG,CAACN,KAAK,CAACM,IAAP,EAAaL,SAAS,CAACI,OAAvB,CAJH;;EAMA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB;IAAA,OAAMJ,WAAW,CAACD,OAAO,GAAG,CAAX,CAAjB;EAAA,CAA1B;;EACA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD;IAAA,OAAsD,UAACC,GAAD,EAA2C;MACpHA,GAAG,IAAIA,GAAG,CAACC,cAAJ,EAAP;MACAX,SAAS,CAACI,OAAV,CAAkBQ,YAAlB;MACAT,WAAW,CAACD,OAAO,GAAG,CAAX,CAAX;;MACA,IAAIO,MAAJ,EAAY;QACV,IAAMI,MAAK,GAAGb,SAAS,CAACI,OAAV,CAAkBU,QAAlB,EAAd;;QACAL,MAAM,oCAAMT,SAAS,CAACI,OAAV,CAAkBW,MAAxB,GAAkCF,MAAlC,CAAN;MACD;IACF,CARoB;EAAA,CAArB;;EASA,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACP,MAAD;IAAA,OAAsC,UAACC,GAAD,EAA2C;MACnGV,SAAS,CAACI,OAAV,CAAkBa,YAAlB;MACA,IAAMC,GAAG,GAAGlB,SAAS,CAACI,OAAV,CAAkBe,KAAlB,EAAZ;MACAV,MAAM,IAAIA,MAAM,CAACS,GAAD,CAAhB;IACD,CAJmB;EAAA,CAApB;;EAKA,OAAO;IACLlB,SAAS,EAAEA,SAAS,CAACI,OADhB;IAELD,WAAW,EAAEI,iBAFR;;IAGL;IACAC,YAAY,EAAZA,YAJK;;IAKL;IACAQ,WAAW,EAAXA;EANK,CAAP;AAQD"
}